---
// src/layouts/A4.astro
import BasePrintLayout from './BasePrintLayout.astro';

// 1. On extrait 'title' des props pour pouvoir l'utiliser
const { info, niveau, theme, sousTheme, indexContent, title: propsTitle } = Astro.props;
const fm = info?.data ?? info?.frontmatter ?? {};

// 2. Priorité au titre passé par la page, sinon au frontmatter, sinon 'Sans titre'
const title = propsTitle ?? fm.title ?? fm.sous_theme ?? sousTheme ?? 'Sans titre';
const themeLabel = fm.theme ?? theme ?? 'Général';
const niveauLabel = fm.niveau ?? niveau ?? '';
---

<BasePrintLayout
  info={info}
  title={title}
  layoutClass="layout-a4"
  niveauLabel={niveauLabel}
  themeLabel={themeLabel}
  indexContent={indexContent}
>
  <slot />
  <slot name="footer" slot="footer" />
</BasePrintLayout>